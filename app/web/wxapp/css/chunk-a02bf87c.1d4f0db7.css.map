{"version":3,"sources":["webpack:///src/components/F:/wxWeb/wxNewWeb/src/components/F:/wxWeb/wxNewWeb/src/components/FloatBtn.vue","chunk-a02bf87c.1d4f0db7.css","webpack:///src/views/F:/wxWeb/wxNewWeb/src/views/src/views/ArticleList.vue"],"names":[],"mappings":"AA+GA,+BACE,eAAA,CACA,8CAAA,CAAA,sCAAA,CACA,iBAAA,CACA,UAAA,CACA,UAAA,CACA,0BAAA,CAAA,kBAAA,CAEA,mBAAA,CAAA,mBAAA,CAAA,YAAA,CACA,2BAAA,CAAA,4BAAA,CAAA,yBAAA,CAAA,qBAAA,CACA,uBAAA,CAAA,oBAAA,CAAA,sBAAA,CACA,wBAAA,CAAA,qBAAA,CAAA,kBAAA,CAEA,cAAA,CACA,WCrGF,CDuFA,mCAiBI,SAAA,CACA,UAAA,CACA,qBAAA,CAAA,kBAAA,CACA,iBCpGJ,CDgFA,iCAwBI,aCrGJ,CCmRA,gCACA,cD/QA,CCkRA,iCACA,eAAA,CACA,eDhRA,CCmRA,4BACA,eAAA,CACA,kBAAA,CACA,UAAA,CACA,YAAA,CACA,eAAA,CACA,iBDjRA,CCoRA,kCACA,UAAA,CACA,UAAA,CACA,eAAA,CACA,eAAA,CACA,iBDlRA,CCsRA,gCACA,SAAA,CACA,UAAA,CACA,aAAA,CACA,eAAA,CACA,eAAA,CACA,eAAA,CACA,eAAA,CACA,kBAAA,CACA,sBDpRA,CCuRA,kCACA,UAAA,CACA,WAAA,CACA,eDrRA,CCwRA,+BACA,UAAA,CACA,aAAA,CACA,eAAA,CACA,sBAAA,CACA,mBAAA,CACA,oBAAA,CACA,2BDtRA,CCyRA,kCACA,iBAAA,CACA,eAAA,CACA,aAAA,CACA,aDvRA,CC0RA,gCACA,eDxRA,CC0SA,0BACA,iBAAA,CACA,aD1RA,CC4RA,2BACA,cAAA,CACA,eAAA,CACA,UAAA,CACA,WD1RA,CC4RA,+BACA,UD1RA","file":"chunk-a02bf87c.1d4f0db7.css","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.ys-float-btn{\n  background:rgb(255,255,255);\n  box-shadow:0 2px 10px 0 rgba(0,0,0,0.1);\n  border-radius:50%;\n  color: #666666;\n  z-index: 20;\n  transition: all 0.3s;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  position: fixed;\n  bottom: 20vw;\n\n  img{\n    width: 50%;\n    height: 50%;\n    object-fit: contain;\n    margin-bottom: 3px;\n  }\n\n  p{\n    font-size:4vw;\n  }\n}\n",".ys-float-btn[data-v-a445b404] {\n  background: #ffffff;\n  -webkit-box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.1);\n          box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.1);\n  border-radius: 50%;\n  color: #666666;\n  z-index: 20;\n  -webkit-transition: all 0.3s;\n  transition: all 0.3s;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  position: fixed;\n  bottom: 20vw;\n}\n.ys-float-btn img[data-v-a445b404] {\n  width: 50%;\n  height: 50%;\n  -o-object-fit: contain;\n     object-fit: contain;\n  margin-bottom: 3px;\n}\n.ys-float-btn p[data-v-a445b404] {\n  font-size: 4vw;\n}\n\n\n.own-container[data-v-4c0f8832] {\n  padding: 10px 0;\n}\n.own-page-title[data-v-4c0f8832] {\n  font-size: 4.2vw;\n  font-weight: 600;\n}\n.own-panel[data-v-4c0f8832] {\n  margin-top: 10px;\n  margin-bottom: 60px;\n  width: 100%;\n  padding: 10px;\n  background: #fff;\n  border-radius: 4px;\n}\n.own-panel-title[data-v-4c0f8832] {\n  width: 100%;\n  height: 5vw;\n  font-weight: 600;\n  line-height: 4vw;\n  text-align: center;\n}\n.article-title[data-v-4c0f8832] {\n  width: 90%;\n  height: 6vw;\n  font-size: 4vw;\n  line-height: 6vw;\n  text-align: left;\n  font-weight: 500;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow:ellipsis;\n}\n.article-content[data-v-4c0f8832] {\n  width: 100%;\n  height: 10vw;\n  font-size: 3.2vw;\n}\n.own-ellipsis[data-v-4c0f8832] {\n  width: 100%;\n  height: 11.6vw;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n.own-dialog-text[data-v-4c0f8832] {\n  padding: 22px 20px;\n  line-height: 6vw;\n  color: #fd7020;\n  font-size: 4vw;\n}\n.own-tab-title[data-v-4c0f8832] {\n  font-size: 4.2vw;\n}\n.article-bottom[data-v-4c0f8832] {\n  /*text-align: right;*/\n}\n\n/*  .page {\n    position: absolute;\n    left:0;\n    top:0;\n    width: 100vw;\n    height:100vh;\n  }*/\n.onw-list-row[data-v-4c0f8832] {\n  /*height: 34vw;*/\n}\n.cnn-btn[data-v-4c0f8832] {\n  text-align: center;\n  font-size: 5vw;\n}\n.read-box[data-v-4c0f8832] {\n  margin-top: 5vw;\n  margin-left: 6vw;\n  width: 11vw;\n  height: 11vw;\n}\n.read-box img[data-v-4c0f8832]{\n  width: 100%;\n}\n\n\n/*# sourceMappingURL=chunk-a02bf87c.1d4f0db7.css.map*/","<template>\r\n  <div class=\"gradient\">\r\n    <div class=\"own-container\">\r\n      <!--\r\n      https://github.com/zwhGithub/vue-calendar\r\n       // v-on:isToday=\"clickToday\"\r\n      // :markDate=arr // arr=['2018/4/1','2018/4/3'] 标记4月1日和4月3日 简单标记\r\n      //:markDateMore=arr // 多种不同的标记\r\n      // 第一个标记和第二个标记不能同时使用\r\n      // :agoDayHide='1514937600' //某个日期以前的不允许点击  时间戳10位\r\n      // :futureDayHide='1525104000' //某个日期以后的不允许点击  时间戳10位\r\n      // :sundayStart=\"true\" //默认是周一开始 当是true的时候 是周日开始\r\n      -->\r\n      <!--<div>\r\n        <Calendar\r\n                @choseDay=\"clickDay\"\r\n                @changeMonth=\"changeDate\"\r\n                :markDateMore=\"learnDays\">\r\n        </Calendar>\r\n      </div>-->\r\n\r\n      <!--      <van-icon class=\"iconfont icon-qiyeyunyingfenxi\" />\r\n            <i class=\"iconfont icon-qiyeyunyingfenxi\"></i>-->\r\n      <div class=\"own-panel\" v-if=\"list[0].items\">\r\n        <van-pull-refresh\r\n                v-model=\"list[0].refreshing\"\r\n                @refresh=\"onRefreshNew\">\r\n          <van-list\r\n                  v-model=\"list[0].loading\"\r\n                  :finished=\"list[0].finished\"\r\n                  finished-text=\"没有更多了\"\r\n                  :error.sync=\"list[0].error\"\r\n                  error-text=\"请求失败，点击重新加载\"\r\n                  @load=\"onLoadNew\">\r\n              <van-cell class=\"onw-list-row\" v-for=\"item in list[0].items\" :key=\"item._id\" @click=\"goRead(item)\">\r\n                  <van-row>\r\n                  <van-col span=\"19\">\r\n                    <div class=\"article-title\">\r\n                      {{item.article_title}}\r\n                    </div>\r\n                    <div class=\"article-content own-ellipsis\">\r\n                      {{item.article_brief}}\r\n                    </div>\r\n                    <van-row>\r\n                      <van-col span=\"6\">难度：</van-col>\r\n                      <van-col span=\"18\">\r\n                        <van-rate v-model=\"item.article_grade+1\"/>\r\n                      </van-col>\r\n                    </van-row>\r\n                    <van-row type=\"flex\" justify=\"space-around\" gutter=\"6\">\r\n                      <!-- <van-col span=\"12\">\r\n                         &lt;!&ndash;<van-tag plain>字数: <span>300</span>个</van-tag>&ndash;&gt;\r\n                         <van-tag style=\"font-size: 3.2vw\" plain>价格：<span>{{item.pay_price}}</span></van-tag>\r\n                       </van-col>\r\n                       <van-col span=\"12\">\r\n                       </van-col>-->\r\n                      <!--<van-col span=\"6\">价格：</van-col>\r\n                      <van-col span=\"18\">\r\n                        <span>{{item.pay_price}} 元</span>\r\n                      </van-col>-->\r\n                    </van-row>\r\n                  </van-col>\r\n                  <van-col span=\"5\">\r\n                    <div class=\"read-box\">\r\n                      <img src=\"../assets/img/read.png\" alt=\"\">\r\n                    </div>\r\n                    <!--<div class=\"cnn-btn\" @click=\"goRead(item)\">\r\n                      学 习\r\n                    </div>-->\r\n                  </van-col>\r\n                </van-row>\r\n              </van-cell>\r\n          </van-list>\r\n        </van-pull-refresh>\r\n      </div>\r\n      <div class=\"own-panel\" v-else>暂无学习内容</div>\r\n    </div>\r\n    <!--创建订单后弹出-->\r\n    <van-dialog\r\n            v-model=\"showPayBox\"\r\n            title=\"提 示\"\r\n            confirm-button-text=\"支付\"\r\n            @confirm=\"submitPay\"\r\n            confirmButtonColor=\"#3dcc97\"\r\n            show-cancel-button>\r\n      <!--<img src=\"https://img.yzcdn.cn/1.jpg\">-->\r\n      <div class=\"own-dialog-text\">\r\n        该产品属于虚拟产品，一经购买，不支持退款或更换，请按需购买。\r\n      </div>\r\n    </van-dialog>\r\n\r\n    <!--取消支付后弹出-->\r\n    <!--<van-dialog\r\n            v-model=\"cancelPayShow\"\r\n            title=\"标题\"\r\n            show-cancel-button\r\n    >\r\n      <img src=\"https://img.yzcdn.cn/1.jpg\">\r\n    </van-dialog>-->\r\n\r\n    <!--取消支付后弹出-->\r\n    <Confirm-dialog :confirmDialog=\"confirmOptions\" @closeShow=\"closeConfirmDialog\"></Confirm-dialog>\r\n\r\n    <!--创建订单后弹出-->\r\n    <Order-dialog :confirmDialog=\"createOrderOptions\"></Order-dialog>\r\n\r\n    <Float-btn text=\"复习\" @onFloatBtnClicked=\"goLearned\"></Float-btn>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import ConfirmDialog from '@/components/ConfirmDialog.vue'\r\n  import OrderDialog from '@/components/OrderDialog.vue'\r\n  import FloatBtn from '@/components/FloatBtn.vue'\r\n  import {NoticeBar, Panel, Skeleton} from 'vant';\r\n  import {mapGetters} from \"vuex\";\r\n  import Calendar from 'vue-calendar-component';\r\n\r\n  export default {\r\n    name: 'articleList',\r\n    components: {\r\n      ConfirmDialog,\r\n      OrderDialog,\r\n      [NoticeBar.name]: NoticeBar,\r\n      [Skeleton.name]: Skeleton,\r\n      [Panel.name]: Panel,\r\n      Calendar,\r\n      FloatBtn\r\n    },\r\n    computed: {\r\n      ...mapGetters([\"userInfo\"])\r\n    },\r\n    created() {\r\n    },\r\n    async mounted() {\r\n      this.params.openId = this.userInfo.openid;\r\n      this.orderParams.openid = this.userInfo.openid;\r\n      this.payParams.openId = this.userInfo.openid;\r\n      // this.wxShare.share()\r\n    },\r\n    data() {\r\n      return {\r\n        learnDays: [],\r\n        createOrderOptions: {\r\n          show: false,\r\n          title: '提 示',\r\n          msg: ' 该产品属于虚拟产品，一经购买，不支持退款或更换，请按需购买。',\r\n          cancelText: '取 消',\r\n          confirmText: '立即支付',\r\n          cancelAction: () => {\r\n            this.createOrderOptions.show = false;\r\n          },\r\n          confirmAction: () => {\r\n            this.submitPay();\r\n          }\r\n        },\r\n        confirmOptions: {\r\n          show: false,\r\n          title: '还在犹豫？',\r\n          msg: '联系督学班长了解下？',\r\n          cancelText: '重新支付',\r\n          confirmText: '跟她聊聊',\r\n          cancelAction: () => {\r\n            this.submitPay();\r\n          },\r\n          confirmAction: () => {\r\n            this.$router.replace('/groupCode')\r\n          }\r\n        },\r\n        orderParams: {\r\n          article: '',  // 5cd245a1ea21fd0efceed74b\r\n          openid: '', // oAfgA1QTrvWbYXZ4iU2sGKMLEs5g\r\n          pay_type: 1\r\n        },\r\n        payParams: {\r\n          orderId: '',\r\n          openId: ''\r\n        },\r\n        cancelPayShow: false,\r\n        showPayBox: false,\r\n        params: {\r\n          page: 1,\r\n          limit: 5,\r\n          openId: ''\r\n        },\r\n        active: 0,\r\n        ownBarClass: 'own-nav-b',\r\n        list: [{\r\n          items: [],\r\n          refreshing: false,\r\n          loading: false,\r\n          error: false,\r\n          finished: false\r\n        },\r\n          {\r\n            items: [],\r\n            refreshing: false,\r\n            loading: false,\r\n            error: false,\r\n            finished: false\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    methods: {\r\n      goLearned() {\r\n        this.$router.push('/learned');\r\n      },\r\n      clickDay(data) {\r\n        console.log(data); //选中某天\r\n      },\r\n      changeDate(data) {\r\n        console.log(data); //左右点击切换月份\r\n      },\r\n      clickToday(data) {\r\n        console.log(data); // 跳到了本月\r\n      },\r\n      closeConfirmDialog(val) {\r\n\r\n      },\r\n      goRead(item) {\r\n        console.log(item.id)\r\n        this.loadingGoArticle(item.id);\r\n      },\r\n      submitPay() {\r\n        this.createOrderOptions.show = false;\r\n        this.confirmOptions.show = false;\r\n        this.apis.order.articleDoPay(this, false, this.payParams).then(res => {\r\n          this.$wx.chooseWXPay({\r\n            timestamp: res.data.timeStamp, // 支付签名时间戳，注意微信jssdk中的所有使用timestamp字段均为小写。但最新版的支付后台生成签名使用的timeStamp字段名需大写其中的S字符\r\n            nonceStr: res.data.nonceStr, // 支付签名随机串，不长于 32 位\r\n            package: res.data.package, // 统一支付接口返回的prepay_id参数值，提交格式如：prepay_id=\\*\\*\\*）\r\n            signType: res.data.signType, // 签名方式，默认为'SHA1'，使用新版支付需传入'MD5'\r\n            paySign: res.data.paySign, // 支付签名\r\n            success: (res) => {\r\n              // 支付成功后的回调函数\r\n              this.loadingGoArticle(this.payParams.orderId);\r\n            },\r\n            // 支付取消回调函数\r\n            cancel: (res) => {\r\n              console.log('用户取消支付~')\r\n              // this.cancelPayShow = true;\r\n              this.confirmOptions.show = true;\r\n            },\r\n            // 支付失败回调函数\r\n            fail: (res) => {\r\n              console.log('支付失败~')\r\n            }\r\n          })\r\n        })\r\n      },\r\n      buyNow(item) {\r\n        // this.loadingGoArticle()\r\n        if (this.orderParams.article && item.id === this.orderParams.article) {\r\n          this.createOrderOptions.show = true;\r\n        } else {\r\n          this.orderParams.article = item.id;\r\n          this.orderParams.openid = this.params.openId;\r\n          // 创建订单\r\n          this.apis.order.createArticleOrder(this, false, this.orderParams).then(res => {\r\n            // this.showPayBox = true;\r\n            this.createOrderOptions.show = true;\r\n            this.payParams.orderId = res.data.id;\r\n            this.payParams.openId = res.data.openid;\r\n          })\r\n        }\r\n      },\r\n      // 跳转到文章详情 不包含文章解析\r\n      loadingGoArticle(articleId) {\r\n        this.$router.push({\r\n          name: 'article',\r\n          params: {\r\n            id: articleId\r\n          }\r\n        })\r\n      },\r\n      changeTab() {\r\n        this.params.page = 1;\r\n      },\r\n      onLoadNew() {\r\n        this.apis.article.getArticleList(this.params).then(res => {\r\n          if(res.code === 200) {\r\n            this.list[0].items = this.list[0].items.concat(res.data.docs);\r\n            this.list[0].loading = false;\r\n            this.params.page++;\r\n            if (this.list[0].items.length >= res.data.total) {\r\n              this.list[0].finished = true;\r\n            }\r\n          } else {\r\n            this.list[0].error = true;\r\n          }\r\n\r\n        });\r\n      },\r\n      onRefreshNew() {\r\n        setTimeout(() => {\r\n          this.list[0].items = [];\r\n          this.list[0].error = false;\r\n          this.list[0].finished = false;\r\n          this.list[0].refreshing = false;\r\n          this.params.page = 1;\r\n          window.scrollTo(0, 10);\r\n        }, 1000)\r\n      }\r\n    }\r\n\r\n  }\r\n</script>\r\n<style lang=\"css\" scoped>\r\n  .own-container {\r\n    padding: 10px 0;\r\n  }\r\n\r\n  .own-page-title {\r\n    font-size: 4.2vw;\r\n    font-weight: 600;\r\n  }\r\n\r\n  .own-panel {\r\n    margin-top: 10px;\r\n    margin-bottom: 60px;\r\n    width: 100%;\r\n    padding: 10px;\r\n    background: #fff;\r\n    border-radius: 4px;\r\n  }\r\n\r\n  .own-panel-title {\r\n    width: 100%;\r\n    height: 5vw;\r\n    font-weight: 600;\r\n    line-height: 4vw;\r\n    text-align: center;\r\n\r\n  }\r\n\r\n  .article-title {\r\n    width: 90%;\r\n    height: 6vw;\r\n    font-size: 4vw;\r\n    line-height: 6vw;\r\n    text-align: left;\r\n    font-weight: 500;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow:ellipsis;\r\n  }\r\n\r\n  .article-content {\r\n    width: 100%;\r\n    height: 10vw;\r\n    font-size: 3.2vw;\r\n  }\r\n\r\n  .own-ellipsis {\r\n    width: 100%;\r\n    height: 11.6vw;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    display: -webkit-box;\r\n    -webkit-line-clamp: 2;\r\n    -webkit-box-orient: vertical;\r\n  }\r\n\r\n  .own-dialog-text {\r\n    padding: 22px 20px;\r\n    line-height: 6vw;\r\n    color: #fd7020;\r\n    font-size: 4vw;\r\n  }\r\n\r\n  .own-tab-title {\r\n    font-size: 4.2vw;\r\n  }\r\n\r\n  .article-bottom {\r\n    /*text-align: right;*/\r\n  }\r\n\r\n  /*  .page {\r\n      position: absolute;\r\n      left:0;\r\n      top:0;\r\n      width: 100vw;\r\n      height:100vh;\r\n    }*/\r\n  .onw-list-row {\r\n    /*height: 34vw;*/\r\n  }\r\n\r\n  .cnn-btn {\r\n    text-align: center;\r\n    font-size: 5vw;\r\n  }\r\n  .read-box {\r\n    margin-top: 5vw;\r\n    margin-left: 6vw;\r\n    width: 11vw;\r\n    height: 11vw;\r\n  }\r\n  .read-box img{\r\n    width: 100%;\r\n  }\r\n</style>"]}